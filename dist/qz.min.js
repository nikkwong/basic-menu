!function(s,i,t,e){"use strict";function a(i,t){this.scrollTimeout=null,this.lastScrollTop=0,this.navActivated=!1,this.element=i,this.$el=s(this.element),this.settings=s.extend({},h,t),this._defaults=h,this._name=n,this.$bmHeader=this.$el.find(s("#"+this._defaults.bmHeader)),this.$bmBtn=this.$el.find(s("#"+this._defaults.bmBtn)),this.$bmNav=this.$el.find(s("#"+this._defaults.bmNav)),this.$bmDimmer=this.$el.find(s("#"+this._defaults.bmDimmer)),this.navbarHeight=this.$bmNav.outerHeight(),this.init()}var n="bm",h={transparentOnTop:!0,transparencyThreshold:200,delta:5,enableDimmer:!0,bmDimmer:"bmDimmer",bmNav:"bmNav",bmBtn:"bmBtn",bmHeader:"bmHeader"};s.extend(a.prototype,{init:function(){this.initListeners()},initListeners:function(){var t=this;s(i).scroll(function(){this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimeout=setTimeout(this.scrollHandler.apply(this),250)}.bind(this)),this.$bmBtn.click(function(s){this.toggleMenu()}.bind(this)),this.$bmNav.on("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(){s(this).hasClass("show")||s(this).removeClass("transitionDisplay")}),this._defaults.enableDimmer&&(this.$bmDimmer.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){s(this).hasClass("show")||(s(this).addClass("hide"),s(this).removeClass("transitionDisplay"))}),this.$bmDimmer.on("click",function(){t.hideNav()}))},toggleMenu:function(s){var i=this;return i.$bmNav.hasClass("show")||i.$bmNav.hasClass("hide")?void(i.$bmNav.hasClass("show")?i.hideNav():i.showNav()):void i.showNav()},scrollHandler:function(){var t=this,e=s(i).scrollTop();Math.abs(t.lastScrollTop-e)<=t._defaults.delta||(e>t.lastScrollTop&&e>t.navbarHeight?t.hideHeader():t.showHeader(),t._defaults.transparentOnTop&&(e>t._defaults.transparencyThreshold?t.hideHeaderTransparency():t.showHeaderTransparency()),t.navActivated&&t.hideNav(),t.lastScrollTop=e)},hideHeader:function(){this.$bmHeader.removeClass("show"),this.$bmHeader.addClass("hide")},showHeader:function(){this.$bmHeader.removeClass("hide"),this.$bmHeader.addClass("show")},hideHeaderTransparency:function(){this.$bmHeader.hasClass("transparent")&&this.$bmHeader.removeClass("transparent")},hideNav:function(){this.$bmNav.removeClass("show"),this.$bmNav.addClass("hide"),this.hideDimmer(),this.navActivated=!1},showNav:function(){this.$bmNav.removeClass("hide"),this.$bmNav.addClass("show"),this.$bmNav.addClass("transitionDisplay"),this.showDimmer(),this.navActivated=!0},showHeaderTransparency:function(){this.$bmHeader.hasClass("transparent")||this.$bmHeader.addClass("transparent")},hideDimmer:function(){this._defaults.enableDimmer&&this.$bmDimmer.removeClass("show")},showDimmer:function(){this._defaults.enableDimmer&&this.$bmDimmer.removeClass("hide"),this.$bmDimmer.addClass("show"),this.$bmDimmer.addClass("transitionDisplay")}}),s.fn[n]=function(i){return this.each(function(){s.data(this,"plugin_"+n)||s.data(this,"plugin_"+n,new a(this,i))})}}(jQuery,window,document);